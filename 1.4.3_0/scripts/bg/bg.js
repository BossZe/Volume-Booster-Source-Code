var capturedTabObj={},bgMethods=function(){};bgMethods.getPopup=function(){return chrome.extension.getViews({type:"popup"})[0]},bgMethods.sendAnalyserStream=function(){var e=capturedTabObj.audioCtx.createMediaStreamDestination();capturedTabObj.analyserGain.connect(e),capturedTabObj.destinationStream=e.stream,bgMethods.getPopup().analyserModule({stream:e.stream,ctx:capturedTabObj.audioCtx})},bgMethods.sendCaptureInterval=function(){setInterval((function(){Methods.sendRuntime({type:"Capturing tab",value:capturedTabObj.id})}),1e3)},bgMethods.onTabRemoveListener=function(e){capturedTabObj.id!=e.id&&(capturedTabObj.id=e.id,chrome.tabs.onRemoved.addListener((function(e){e==capturedTabObj.id&&(Methods.setIcon("off"),Methods.save("power","false"),bgMethods.closeAudio())})))},bgMethods.sendVolumeSetting=function(){Methods.sendRuntime({type:"volumeSetting",value:capturedTabObj.volumeGainNode.gain.value})},bgMethods.sendLimiterSettings=function(){Methods.sendRuntime({type:"limiterSettings",threshold:capturedTabObj.compressor.threshold.value,attack:capturedTabObj.compressor.attack.value,release:capturedTabObj.compressor.release.value,ratio:capturedTabObj.compressor.ratio.value,knee:capturedTabObj.compressor.knee.value})},bgMethods.sendChorusSettings=function(){"true"!=Methods.isChorusBypass()&&Methods.sendRuntime({type:"chorusSettings",rate:capturedTabObj.chorus.rate,depth:capturedTabObj.chorus.depth,feedback:capturedTabObj.chorus.feedback,delay:capturedTabObj.chorusFixedDelay||1.5})},bgMethods.sendConvolverSettings=function(){"true"!=Methods.isConvolverBypass()&&Methods.sendRuntime({type:"convolverSettings",highCut:capturedTabObj.convolver.highCut,lowCut:capturedTabObj.convolver.lowCut,dryLevel:capturedTabObj.convolver.dryLevel,wetLevel:capturedTabObj.convolver.wetLevel})},bgMethods.sendPitchSettings=function(){"true"!=Methods.isPitchBypass()&&Methods.sendRuntime({type:"pitchSettings",pitch:capturedTabObj.pitch.value,cents:capturedTabObj.pitch.cents})},bgMethods.sendEqSettings=function(){for(var e=capturedTabObj.twenty.gain.value,t=capturedTabObj.fifty.gain.value,a=capturedTabObj.oneHundred.gain.value,r=capturedTabObj.twoHundred.gain.value,u=capturedTabObj.fiveHundred.gain.value,d=capturedTabObj.oneThousand.gain.value,o=capturedTabObj.twoThousand.gain.value,b=capturedTabObj.fiveThousand.gain.value,c=capturedTabObj.tenThousand.gain.value,n=capturedTabObj.twentyThousand.gain.value,s=[e,t,a,r,u,d,o,b,c,n],i=0;10>i;i++)0<s[i]&&(s[i]*=2);Methods.sendRuntime({type:"eqSettings",twenty:e,fifty:t,oneHundred:a,twoHundred:r,fiveHundred:u,oneThousand:d,twoThousand:o,fiveThousand:b,tenThousand:c,twentyThousand:n})},bgMethods.checkStream=function(){if(capturedTabObj.stream)return!0},bgMethods.closeAudio=function(){bgMethods.checkStream()&&(capturedTabObj.stream.getAudioTracks()[0].stop(),capturedTabObj.audioCtx.close(),capturedTabObj={},location.reload())},bgMethods.createAudio=function(e){bgMethods.sendCaptureInterval(),capturedTabObj.stream=e,capturedTabObj.audioCtx=new AudioContext,e=new Tuna(capturedTabObj.audioCtx),"true"!=Methods.isChorusBypass()&&(capturedTabObj.chorus=new e.Chorus),"true"!=Methods.isConvolverBypass()&&(capturedTabObj.convolver=new e.Convolver),"true"!=Methods.isPitchBypass()&&(capturedTabObj.pitch=new Jungle(capturedTabObj.audioCtx)),capturedTabObj.streamOutput=capturedTabObj.audioCtx.createMediaStreamSource(capturedTabObj.stream),capturedTabObj.analyserGain=capturedTabObj.audioCtx.createGain(),capturedTabObj.panSplitter=capturedTabObj.audioCtx.createChannelSplitter(2),capturedTabObj.leftMonoGain=capturedTabObj.audioCtx.createGain(),capturedTabObj.rightMonoGain=capturedTabObj.audioCtx.createGain(),capturedTabObj.panMerger=capturedTabObj.audioCtx.createChannelMerger(2),capturedTabObj.monoSplitter=capturedTabObj.audioCtx.createChannelSplitter(2),capturedTabObj.monoGain=capturedTabObj.audioCtx.createGain(),capturedTabObj.monoMerger=capturedTabObj.audioCtx.createChannelMerger(2),capturedTabObj.volumeGainNode=capturedTabObj.audioCtx.createGain(),capturedTabObj.leftPhaseGain=capturedTabObj.audioCtx.createGain(),capturedTabObj.leftPhaseHPF=capturedTabObj.audioCtx.createBiquadFilter(),capturedTabObj.rightPhaseGain=capturedTabObj.audioCtx.createGain(),capturedTabObj.phaseMerger=capturedTabObj.audioCtx.createChannelMerger(2),capturedTabObj.phaseSplitter=capturedTabObj.audioCtx.createChannelSplitter(2),capturedTabObj.compressor=capturedTabObj.audioCtx.createDynamicsCompressor(),capturedTabObj.twenty=capturedTabObj.audioCtx.createBiquadFilter(),capturedTabObj.fifty=capturedTabObj.audioCtx.createBiquadFilter(),capturedTabObj.oneHundred=capturedTabObj.audioCtx.createBiquadFilter(),capturedTabObj.twoHundred=capturedTabObj.audioCtx.createBiquadFilter(),capturedTabObj.fiveHundred=capturedTabObj.audioCtx.createBiquadFilter(),capturedTabObj.oneThousand=capturedTabObj.audioCtx.createBiquadFilter(),capturedTabObj.twoThousand=capturedTabObj.audioCtx.createBiquadFilter(),capturedTabObj.fiveThousand=capturedTabObj.audioCtx.createBiquadFilter(),capturedTabObj.tenThousand=capturedTabObj.audioCtx.createBiquadFilter(),capturedTabObj.twentyThousand=capturedTabObj.audioCtx.createBiquadFilter()},bgMethods.setDefaults=function(){capturedTabObj.audioCtx.latencyHint="playback",capturedTabObj.twenty.type="lowshelf",capturedTabObj.twenty.frequency.setValueAtTime(32,capturedTabObj.audioCtx.currentTime),capturedTabObj.fifty.type="peaking",capturedTabObj.fifty.frequency.setValueAtTime(64,capturedTabObj.audioCtx.currentTime),capturedTabObj.fifty.Q.setValueAtTime(5,capturedTabObj.audioCtx.currentTime),capturedTabObj.oneHundred.type="peaking",capturedTabObj.oneHundred.frequency.setValueAtTime(125,capturedTabObj.audioCtx.currentTime),capturedTabObj.oneHundred.Q.setValueAtTime(5,capturedTabObj.audioCtx.currentTime),capturedTabObj.twoHundred.type="peaking",capturedTabObj.twoHundred.frequency.setValueAtTime(250,capturedTabObj.audioCtx.currentTime),capturedTabObj.twoHundred.Q.setValueAtTime(5,capturedTabObj.audioCtx.currentTime),capturedTabObj.fiveHundred.type="peaking",capturedTabObj.fiveHundred.frequency.setValueAtTime(500,capturedTabObj.audioCtx.currentTime),capturedTabObj.fiveHundred.Q.setValueAtTime(5,capturedTabObj.audioCtx.currentTime),capturedTabObj.oneThousand.type="peaking",capturedTabObj.oneThousand.frequency.setValueAtTime(1e3,capturedTabObj.audioCtx.currentTime),capturedTabObj.oneThousand.Q.setValueAtTime(5,capturedTabObj.audioCtx.currentTime),capturedTabObj.twoThousand.type="peaking",capturedTabObj.twoThousand.frequency.setValueAtTime(2e3,capturedTabObj.audioCtx.currentTime),capturedTabObj.twoThousand.Q.setValueAtTime(5,capturedTabObj.audioCtx.currentTime),capturedTabObj.fiveThousand.type="peaking",capturedTabObj.fiveThousand.frequency.setValueAtTime(4e3,capturedTabObj.audioCtx.currentTime),capturedTabObj.fiveThousand.Q.setValueAtTime(5,capturedTabObj.audioCtx.currentTime),capturedTabObj.tenThousand.type="peaking",capturedTabObj.tenThousand.frequency.setValueAtTime(8e3,capturedTabObj.audioCtx.currentTime),capturedTabObj.tenThousand.Q.setValueAtTime(5,capturedTabObj.audioCtx.currentTime),capturedTabObj.twentyThousand.type="highshelf",capturedTabObj.twentyThousand.frequency.setValueAtTime(16e3,capturedTabObj.audioCtx.currentTime),capturedTabObj.compressor.threshold.value=0,capturedTabObj.compressor.attack.value=0,capturedTabObj.compressor.release.value=.2,capturedTabObj.compressor.ratio.value=4,capturedTabObj.compressor.knee.value=10,capturedTabObj.volumeGainNode.gain.setValueAtTime(1,capturedTabObj.audioCtx.currentTime),capturedTabObj.rightPhaseGain.gain.setValueAtTime(.5,capturedTabObj.audioCtx.currentTime),capturedTabObj.leftPhaseGain.gain.setValueAtTime(-.5,capturedTabObj.audioCtx.currentTime),capturedTabObj.leftPhaseHPF.type="highpass",capturedTabObj.leftPhaseHPF.frequency.setValueAtTime(125,capturedTabObj.audioCtx.currentTime),capturedTabObj.monoGain.gain.setValueAtTime(.5,capturedTabObj.audioCtx.currentTime),capturedTabObj.analyserGain.gain.setValueAtTime(1,capturedTabObj.audioCtx.currentTime),"true"!=Methods.isPitchBypass()&&(capturedTabObj.pitch.value=0,capturedTabObj.pitch.cents=0,capturedTabObj.pitch.setPitchOffset(0)),"true"!=Methods.isChorusBypass()&&(capturedTabObj.chorus.depth=.9,capturedTabObj.chorus.rate=.2,capturedTabObj.chorus.feedback=.8,capturedTabObj.chorus.delay=1.5,capturedTabObj.chorusFixedDelay=1.5,capturedTabObj.chorus.bypass=0),"true"!=Methods.isConvolverBypass()&&(capturedTabObj.convolver.wetLevel=0,capturedTabObj.convolver.dryLevel=1,capturedTabObj.convolver.lowCut=20,capturedTabObj.convolver.highCut=22050,capturedTabObj.convolver.bypass=0)},bgMethods.toggleMonoNodes=function(e){1==capturedTabObj.panMerger.context.__connectified__&&capturedTabObj.panMerger.disconnect(),1==capturedTabObj.monoSplitter.context.__connectified__&&capturedTabObj.monoSplitter.disconnect(),1==capturedTabObj.monoGain.context.__connectified__&&capturedTabObj.monoGain.disconnect(),"true"==e?(capturedTabObj.panMerger.connect(capturedTabObj.monoGain),capturedTabObj.monoGain.connect(capturedTabObj.monoSplitter),capturedTabObj.monoSplitter.connect(capturedTabObj.monoMerger,0,1),capturedTabObj.monoSplitter.connect(capturedTabObj.monoMerger,0,0),capturedTabObj.monoSplitter.connect(capturedTabObj.monoMerger,1,0)):(capturedTabObj.panMerger.connect(capturedTabObj.monoSplitter),capturedTabObj.monoSplitter.connect(capturedTabObj.monoMerger,0,0)),capturedTabObj.monoSplitter.connect(capturedTabObj.monoMerger,1,1)},bgMethods.connect=function(){capturedTabObj.streamOutput.connect(capturedTabObj.panSplitter),capturedTabObj.panSplitter.connect(capturedTabObj.leftMonoGain,0),capturedTabObj.panSplitter.connect(capturedTabObj.rightMonoGain,1),capturedTabObj.leftMonoGain.connect(capturedTabObj.panMerger,0,0),capturedTabObj.rightMonoGain.connect(capturedTabObj.panMerger,0,1),"true"==Methods.load("mono")?bgMethods.toggleMonoNodes("true"):bgMethods.toggleMonoNodes("false"),"true"!=Methods.isPitchBypass()&&"true"!=Methods.isChorusBypass()&&"true"!=Methods.isConvolverBypass()?(capturedTabObj.monoMerger.connect(capturedTabObj.pitch),capturedTabObj.pitch.output.connect(capturedTabObj.chorus),capturedTabObj.chorus.connect(capturedTabObj.convolver),capturedTabObj.convolver.connect(capturedTabObj.twenty)):"true"==Methods.isPitchBypass()&&"true"!=Methods.isChorusBypass()&&"true"!=Methods.isConvolverBypass()?(capturedTabObj.monoMerger.connect(capturedTabObj.chorus),capturedTabObj.chorus.connect(capturedTabObj.convolver),capturedTabObj.convolver.connect(capturedTabObj.twenty)):"true"!=Methods.isPitchBypass()&&Methods.isChorusBypass()&&"true"!=Methods.isConvolverBypass()?(capturedTabObj.monoMerger.connect(capturedTabObj.pitch),capturedTabObj.pitch.output.connect(capturedTabObj.convolver),capturedTabObj.convolver.connect(capturedTabObj.twenty)):"true"!=Methods.isPitchBypass()&&"true"!=Methods.isChorusBypass()&&"true"==Methods.isConvolverBypass()?(capturedTabObj.monoMerger.connect(capturedTabObj.pitch),capturedTabObj.pitch.output.connect(capturedTabObj.chorus),capturedTabObj.chorus.connect(capturedTabObj.twenty)):"true"!=Methods.isPitchBypass()&&"true"==Methods.isChorusBypass()&&"true"==Methods.isConvolverBypass()?(capturedTabObj.monoMerger.connect(capturedTabObj.pitch),capturedTabObj.pitch.output.connect(capturedTabObj.twenty)):"true"==Methods.isPitchBypass()&&"true"==Methods.isChorusBypass()&&"true"!=Methods.isConvolverBypass()?(capturedTabObj.monoMerger.connect(capturedTabObj.convolver),capturedTabObj.convolver.connect(capturedTabObj.twenty)):"true"==Methods.isPitchBypass()&&"true"!=Methods.isChorusBypass()&&"true"==Methods.isConvolverBypass()?(capturedTabObj.monoMerger.connect(capturedTabObj.chorus),capturedTabObj.chorus.connect(capturedTabObj.twenty)):"true"==Methods.isPitchBypass()&&"true"==Methods.isChorusBypass()&&"true"==Methods.isConvolverBypass()&&capturedTabObj.monoMerger.connect(capturedTabObj.twenty),capturedTabObj.twenty.connect(capturedTabObj.fifty),capturedTabObj.fifty.connect(capturedTabObj.oneHundred),capturedTabObj.oneHundred.connect(capturedTabObj.twoHundred),capturedTabObj.twoHundred.connect(capturedTabObj.fiveHundred),capturedTabObj.fiveHundred.connect(capturedTabObj.oneThousand),capturedTabObj.oneThousand.connect(capturedTabObj.twoThousand),capturedTabObj.twoThousand.connect(capturedTabObj.fiveThousand),capturedTabObj.fiveThousand.connect(capturedTabObj.tenThousand),capturedTabObj.tenThousand.connect(capturedTabObj.twentyThousand),capturedTabObj.twentyThousand.connect(capturedTabObj.compressor),capturedTabObj.compressor.connect(capturedTabObj.volumeGainNode),"true"==Methods.load("phase")?bgMethods.togglePhase("true"):bgMethods.togglePhase("false")},bgMethods.togglePhase=function(e){"true"==e?(capturedTabObj.volumeGainNode.disconnect(),capturedTabObj.volumeGainNode.connect(capturedTabObj.phaseSplitter),capturedTabObj.phaseSplitter.connect(capturedTabObj.leftPhaseGain,0),capturedTabObj.phaseSplitter.connect(capturedTabObj.rightPhaseGain,1),capturedTabObj.leftPhaseGain.connect(capturedTabObj.leftPhaseHPF),capturedTabObj.leftPhaseHPF.connect(capturedTabObj.phaseMerger,0,0),capturedTabObj.leftPhaseGain.connect(capturedTabObj.phaseMerger,0,1),capturedTabObj.rightPhaseGain.connect(capturedTabObj.phaseMerger,0,1),capturedTabObj.rightPhaseGain.connect(capturedTabObj.phaseMerger,0,0),capturedTabObj.phaseMerger.connect(capturedTabObj.analyserGain)):(capturedTabObj.volumeGainNode.disconnect(),capturedTabObj.volumeGainNode.connect(capturedTabObj.analyserGain)),capturedTabObj.analyserGain.connect(capturedTabObj.audioCtx.destination)},bgMethods.initOn=function(){bgMethods.sendVolumeSetting(),bgMethods.sendEqSettings(),bgMethods.sendLimiterSettings(),bgMethods.sendChorusSettings(),bgMethods.sendConvolverSettings(),bgMethods.sendPitchSettings(),bgMethods.sendAnalyserStream(),Methods.sendRuntime({type:"displayFaders"})},bgMethods.powerIcon=function(e){chrome.tabCapture.capture({audio:!0,video:!1},(function(t){if("true"!=Methods.isChorusBypass())var a=capturedTabObj.chorus.rate,r=capturedTabObj.chorus.depth,u=capturedTabObj.chorus.feedback,d=capturedTabObj.chorus.delay;if("true"!=Methods.isConvolverBypass())var o=capturedTabObj.convolver.dryLevel,b=capturedTabObj.convolver.highCut,c=capturedTabObj.convolver.wetLevel,n=capturedTabObj.convolver.lowCut;if("true"!=Methods.isPitchBypass())var s=capturedTabObj.pitch.value,i=capturedTabObj.pitch.cents;var p=capturedTabObj.volumeGainNode.gain.value,T=capturedTabObj.compressor.threshold.value,h=capturedTabObj.compressor.attack.value,O=capturedTabObj.compressor.release.value,j=capturedTabObj.compressor.ratio.value,l=capturedTabObj.compressor.knee.value,g=capturedTabObj.twenty.gain.value,m=capturedTabObj.fifty.gain.value,v=capturedTabObj.oneHundred.gain.value,M=capturedTabObj.twoHundred.gain.value,C=capturedTabObj.fiveHundred.gain.value,f=capturedTabObj.oneThousand.gain.value,y=capturedTabObj.twoThousand.gain.value,x=capturedTabObj.fiveThousand.gain.value,w=capturedTabObj.tenThousand.gain.value,P=capturedTabObj.twentyThousand.gain.value;bgMethods.checkStream()&&(capturedTabObj.stream.getAudioTracks()[0].stop(),capturedTabObj.audioCtx.close(),capturedTabObj={}),bgMethods.createAudio(t),bgMethods.setDefaults(),"true"!=Methods.isChorusBypass()&&(capturedTabObj.chorus.rate=a,capturedTabObj.chorus.depth=r,capturedTabObj.chorus.feedback=u,capturedTabObj.chorus.delay=d),"true"!=Methods.isConvolverBypass()&&(capturedTabObj.convolver.dryLevel=o,capturedTabObj.convolver.highCut=b,capturedTabObj.convolver.wetLevel=c,capturedTabObj.convolver.lowCut=n),"true"!=Methods.isPitchBypass()&&(capturedTabObj.pitch.setPitchOffset(s),capturedTabObj.pitch.value=s,capturedTabObj.pitch.cents=i),capturedTabObj.volumeGainNode.gain.setValueAtTime(p,capturedTabObj.audioCtx.currentTime),capturedTabObj.compressor.threshold.setValueAtTime(T,capturedTabObj.audioCtx.currentTime),capturedTabObj.compressor.attack.setValueAtTime(h,capturedTabObj.audioCtx.currentTime),capturedTabObj.compressor.release.setValueAtTime(O,capturedTabObj.audioCtx.currentTime),capturedTabObj.compressor.ratio.setValueAtTime(j,capturedTabObj.audioCtx.currentTime),capturedTabObj.compressor.knee.setValueAtTime(l,capturedTabObj.audioCtx.currentTime),capturedTabObj.twenty.gain.setValueAtTime(g,capturedTabObj.audioCtx.currentTime),capturedTabObj.fifty.gain.setValueAtTime(m,capturedTabObj.audioCtx.currentTime),capturedTabObj.oneHundred.gain.setValueAtTime(v,capturedTabObj.audioCtx.currentTime),capturedTabObj.twoHundred.gain.setValueAtTime(M,capturedTabObj.audioCtx.currentTime),capturedTabObj.fiveHundred.gain.setValueAtTime(C,capturedTabObj.audioCtx.currentTime),capturedTabObj.oneThousand.gain.setValueAtTime(f,capturedTabObj.audioCtx.currentTime),capturedTabObj.twoThousand.gain.setValueAtTime(y,capturedTabObj.audioCtx.currentTime),capturedTabObj.fiveThousand.gain.setValueAtTime(x,capturedTabObj.audioCtx.currentTime),capturedTabObj.tenThousand.gain.setValueAtTime(w,capturedTabObj.audioCtx.currentTime),capturedTabObj.twentyThousand.gain.setValueAtTime(P,capturedTabObj.audioCtx.currentTime),bgMethods.connect(),bgMethods.onTabRemoveListener(e),bgMethods.sendAnalyserStream(),Methods.sendRuntime({type:"displayFaders"})}))},bgMethods.powerOn=function(e){chrome.tabCapture.capture({audio:!0,video:!1},(function(t){null==t?Methods.sendRuntime({type:"powerOff"}):(bgMethods.createAudio(t),bgMethods.setDefaults(),bgMethods.pan(Methods.load("pan")),bgMethods.connect(),"true"==Methods.isAutoLoadPreset()?("true"==Methods.isLimiterPreset()?bgMethods.getPopup().Preset.loadPreset("limiterPreset"):bgMethods.sendLimiterSettings(),"true"==Methods.isEqPreset()?bgMethods.getPopup().Preset.loadPreset("eqPreset"):bgMethods.sendEqSettings(),"true"==Methods.isChorusPreset()?bgMethods.getPopup().Preset.loadPreset("chorusPreset"):bgMethods.sendChorusSettings(),"true"==Methods.isConvolverPreset()?bgMethods.getPopup().Preset.loadPreset("convolverPreset"):bgMethods.sendConvolverSettings(),"true"==Methods.isPitchPreset()?bgMethods.getPopup().Preset.loadPreset("pitchPreset"):bgMethods.sendPitchSettings()):(bgMethods.sendVolumeSetting(),bgMethods.sendEqSettings(),bgMethods.sendLimiterSettings(),bgMethods.sendChorusSettings(),bgMethods.sendConvolverSettings(),bgMethods.sendPitchSettings()),Methods.sendRuntime({type:"displayFaders"})),bgMethods.onTabRemoveListener(e),bgMethods.sendAnalyserStream()}))},bgMethods.fullScreen=function(e){"active"==e.status&&e.tabId==capturedTabObj.id&&chrome.windows.getCurrent((function(t){var a=t.id;"false"!=Methods.load("fullScreen")?1==e.fullscreen?(Methods.save("windowState",t.state),chrome.windows.update(a,{state:"fullscreen"},null)):chrome.windows.update(a,{state:Methods.load("windowState")},null):chrome.windows.update(a,{state:t.state},null)}))},bgMethods.pan=function(e){0<(e=Number(e))?(capturedTabObj.leftMonoGain.gain.setValueAtTime(1-e,capturedTabObj.audioCtx.currentTime),capturedTabObj.rightMonoGain.gain.setValueAtTime(1,capturedTabObj.audioCtx.currentTime)):(capturedTabObj.leftMonoGain.gain.setValueAtTime(1,capturedTabObj.audioCtx.currentTime),capturedTabObj.rightMonoGain.gain.setValueAtTime(1+e,capturedTabObj.audioCtx.currentTime))};var Background=function(){Background.install(),Background.initStorage(),Background.initListener(),Methods.setIcon("off")};function handleResponseHeaders(){chrome.webRequest.onHeadersReceived.addListener((e=>({responseHeaders:e.responseHeaders})),{urls:["<all_urls>"]},["blocking","responseHeaders"])}Background.initListener=function(){chrome.runtime.onMessage.addListener((function(e){var t=e.type,a=e.value;switch("twenty"!=t&&"fifty"!=t&&"oneHundred"!=t&&"twoHundred"!=t&&"fiveHundred"!=t&&"oneThousand"!=t&&"twoThousand"!=t&&"fiveThousand"!=t&&"tenThousand"!=t&&"twentyThousand"!=t||-20!=Number(a)||(a=-40),t){case"threshold":capturedTabObj.compressor.threshold.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"attack":capturedTabObj.compressor.attack.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"release":capturedTabObj.compressor.release.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"knee":capturedTabObj.compressor.knee.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"ratio":capturedTabObj.compressor.ratio.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"volume":capturedTabObj.volumeGainNode.gain.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"twenty":capturedTabObj.twenty.gain.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"fifty":capturedTabObj.fifty.gain.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"oneHundred":capturedTabObj.oneHundred.gain.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"twoHundred":capturedTabObj.twoHundred.gain.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"fiveHundred":capturedTabObj.fiveHundred.gain.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"oneThousand":capturedTabObj.oneThousand.gain.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"twoThousand":capturedTabObj.twoThousand.gain.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"fiveThousand":capturedTabObj.fiveThousand.gain.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"tenThousand":capturedTabObj.tenThousand.gain.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"twentyThousand":capturedTabObj.twentyThousand.gain.setValueAtTime(a,capturedTabObj.audioCtx.currentTime);break;case"sendAnalyserStream":bgMethods.sendAnalyserStream();break;case"powerIcon":bgMethods.powerIcon(a);break;case"powerOn":bgMethods.powerOn(a);break;case"initOn":bgMethods.initOn(a);break;case"closeAudio":bgMethods.closeAudio();break;case"checkStream":bgMethods.checkStream();break;case"mono":bgMethods.toggleMonoNodes(a);break;case"phase":bgMethods.togglePhase(a);break;case"sendSettingsToPopup":bgMethods.sendVolumeSetting(),bgMethods.sendEqSettings(),bgMethods.sendLimiterSettings(),bgMethods.sendPitchSettings(),bgMethods.sendChorusSettings(),bgMethods.sendConvolverSettings();break;case"pan":bgMethods.pan(a)}"true"!=Methods.isPitchBypass()&&"pitch"==t&&(capturedTabObj.pitch.value=a,capturedTabObj.pitch.setPitchOffset(Number(a)+Number(capturedTabObj.pitch.cents/100||0))),"true"!=Methods.isPitchBypass()&&"pitchCents"==t&&(capturedTabObj.pitch.cents=e.value,capturedTabObj.pitch.setPitchOffset(Number(capturedTabObj.pitch.value)+Number(e.value/100))),"true"!=Methods.isConvolverBypass()&&("convolverHighCut"==t&&(capturedTabObj.convolver.highCut=a),"convolverLowCut"==t&&(capturedTabObj.convolver.lowCut=a),"convolverDryLevel"==t&&(capturedTabObj.convolver.dryLevel=a),"convolverWetLevel"==t&&(capturedTabObj.convolver.wetLevel=a)),"true"!=Methods.isChorusBypass()&&("chorusRate"==t&&(capturedTabObj.chorus.rate=e.value),"chorusDepth"==t&&(capturedTabObj.chorus.depth=e.value),"chorusFeedback"==t&&(capturedTabObj.chorus.feedback=e.value),"chorusDelay"==t&&(capturedTabObj.chorus.delay=e.value,capturedTabObj.chorusFixedDelay=e.value))})),chrome.tabCapture.onStatusChanged.addListener(bgMethods.fullScreen)},Background.initStorage=function(){Methods.save("instance","false"),Methods.save("power","false"),"true"!=Methods.load("mono")&&Methods.save("mono","false"),"true"!=Methods.load("phase")&&Methods.save("phase","false"),"true"!=Methods.load("pitch")&&Methods.save("pitch","false"),null==Methods.isConvolverBypass()&&Methods.save("convolverBypass","true"),null==Methods.isPitchBypass()&&Methods.save("pitchBypass","true"),null==Methods.isChorusBypass()&&Methods.save("chorusBypass","true"),null==Methods.load("currentTab")&&Methods.save("currentTab","limiter"),"true"!=Methods.load("autoOpen")&&Methods.save("autoOpen","false"),null==Methods.load("info")&&Methods.save("info","false"),null==Methods.load("volumePreset")&&Methods.save("volumePreset","true"),null==Methods.load("lightTheme")&&Methods.save("lightTheme","false"),null==Methods.load("autoLoadPreset")&&Methods.save("autoLoadPreset","true"),"false"!=Methods.load("fullScreen")&&Methods.save("fullScreen","true")},Background.install=function(){chrome.runtime.onInstalled.addListener((function(e){"install"==e.reason||e.reason}))};var bg=new Background;handleResponseHeaders();